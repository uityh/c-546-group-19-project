<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>
<article class="main">
  <h1>Outfit Details</h1>
  <a href="/home">Back to Home</a>
  <br />
  <div class="form-div">
    <h2>{{outfitData.outfitName}}</h2>
    <div class="likes-saves-div">
      <p class="outfit-likes">{{outfitData.likes.length}} likes</p>
      <a class="save-btn icon-btn" href="/home/save/{{outfitData._id}}">Save
        {{#ifIn userId outfitData.saves}}
          <i class="fa-solid fa-bookmark"></i>
        {{else}}
          <i class="fa-regular fa-bookmark"></i>
        {{/ifIn}}
      </a>
      <a class="like-btn icon-btn" href="/home/like/{{outfitData._id}}">Like
        {{#ifIn userId outfitData.likes}}
          <i class="fa-solid fa-heart"></i>
        {{else}}
          <i class="fa-regular fa-heart"></i>
        {{/ifIn}}
      </a>
    </div>
    <div class="outfit-card">
      <div
        id="a{{outfitData._id}}"
        class="carousel carousel-dark slide"
        data-mdb-ride="carousel"
        data-mdb-interval="false"
      >
        <!-- Inner -->
        <div class="carousel-inner">
          {{#each clothingData}}
            <!-- Single Item -->
            <div class="carousel-item">
              <img
                class="outfit-card-image d-block w-100"
                src="/uploads/{{image}}"
                alt="{{name}}"
              />
            </div>
          {{/each}}
        </div>

        <!-- Controls -->
        <button
          class="carousel-control-prev"
          type="button"
          data-mdb-target="#a{{outfitData._id}}"
          data-mdb-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-mdb-target="#a{{outfitData._id}}"
          data-mdb-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
    <dl>
      <dt>Creator</dt>
      <dd>{{outfitData.creator}}</dd>
      <dt>Seasons</dt>
      {{#if outfitData.season}}
        <dd>
          <ul>
            {{#each outfitData.season}}
              <li>{{this}}</li>
            {{/each}}
          </ul>
        </dd>
      {{else}}
        <dd>N/A</dd>
      {{/if}}
      <dt>Styles</dt>
      {{#if outfitData.style}}
        <dd>
          <ul>
            {{#each outfitData.style}}
              <li>{{this}}</li>
            {{/each}}
          </ul>
        </dd>
      {{else}}
        <dd>N/A</dd>
      {{/if}}
    </dl>
    {{!-- <div class="outfit-details">
            <p class="outfit-creator">Creator: {{creator}}</p>
            <p class="outfit-likes">{{outfitData.likes.length}} likes</p>
        </div>
        <a class="btn" id="like">Like</a>
        <a class="btn" id="save">Save</a> --}}
  </div>
  {{! TODO check comments length = 0 }}
  <div class="form-div">
    <h3>Comments</h3>
    <p id="no_comments">No comments yet! Be the first one to comment.</p>
    <ul id="comments"></ul>

    {{#if error}}
      <p class="error">{{error}}</p>
    {{/if}}

    <p class="error" id="error"></p>

    <form id="commentForm" method="POST" action="/detailed/comment">
      <label for="comment_term">Comment</label>
      <br />
      <textarea
        id="comment_term"
        name="comment"
        rows="4"
        cols="50"
        placeholder="Enter comment"
      > </textarea>
      <button type="submit" class="btn">Submit</button>
    </form>
  </div>
</article>